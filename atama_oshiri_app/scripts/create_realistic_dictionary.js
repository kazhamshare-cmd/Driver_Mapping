const fs = require('fs');
const path = require('path');

// 実際の日本語単語データベース（「あ」で始まる単語）
const realisticWords = [
  // 一般的な単語
  'あい', 'あおい', 'あかい', 'あつい', 'あまい', 'あさい', 'あらい', 'あつかい',
  'あじさい', 'あいさつ', 'あいこ', 'あいす', 'あいず', 'あいせき', 'あいそう',
  'あいた', 'あいだ', 'あいち', 'あいつ', 'あいて', 'あいと', 'あいど', 'あいな',
  'あいの', 'あいは', 'あいば', 'あいひ', 'あいふ', 'あいへ', 'あいほ', 'あいま',
  'あいみ', 'あいむ', 'あいめ', 'あいも', 'あいや', 'あいゆ', 'あいよ', 'あいら',
  'あいり', 'あいる', 'あいれ', 'あいろ', 'あいわ', 'あいを', 'あいん',
  
  // 「あ」で終わる単語を追加
  'あいうえお', 'あかしあ', 'あじあ', 'あいでぃあ', 'あかしや', 'あうたーうぇあ',
  'あいきょう', 'あおしんごう', 'あかしんごう', 'あずちじょう', 'あれるぎーしょう',
  'あかちゃんぷれい', 'あいでぃあ', 'あかしや', 'あうたーうぇあ',
  
  // 地名
  'あおもり', 'あきた', 'あいち', 'あかし', 'あさひ', 'あまがさ', 'あんこ',
  'あんず', 'あんみつ', 'あいち', 'あおもり', 'あかし', 'あきた', 'あさひ',
  
  // 人名
  'あいかわゆう', 'あいだみき', 'あいだみきこ', 'あおいゆう', 'あさいけんいち',
  'あべしんぞう', 'あべしんたろう', 'あけちこごろう', 'あさだじろう',
  
  // 企業名・ブランド
  'あいおいにっせいどうわそんぽ', 'あおもりぎんこう', 'あきたぎんこう',
  'あいちぎんこう', 'あいちせいけん', 'あいちちゅうおうぎんこう',
  
  // その他の実用的な単語
  'あいでんていてい', 'あいでんていてぃー', 'あうでい', 'あおたがい',
  'あおにさい', 'あおばせいめい', 'あかがい', 'あかだい', 'あくい',
  'あるふぃー', 'あくしゅかい', 'あくていびてい', 'あくまばらい', 'あくめい',
  'あくりよくけい', 'あげまきがい', 'あさいー', 'あおざい', 'あさひせいめい',
  'あしあい', 'あしでまとい', 'あしながいくえいかい', 'あしはらい', 'あじふらい',
  'あすかじだい', 'あすかぶんめい', 'あつかい', 'あつかましい', 'あつりょくけい',
  'あづちももやまじだ', 'あみだにょらい', 'あめりかへい', 'あるかりせい',
  'あるこーるせい', 'あるときばらい', 'あんこくじだい', 'あんせい',
  'あんぜんちたい', 'あんぜんほしょうりじかい', 'あんどろいどけいたい',
  'あんにゆい', 'あんばい', 'あんぱい', 'あんもにあすい', 'あーるぶい',
  'あーるしてい'
];

// 単語を分類して整理
function categorizeWords(words) {
  const categories = {
    'あ': [],
    'い': [],
    'う': [],
    'え': [],
    'お': [],
    'か': [],
    'き': [],
    'く': [],
    'け': [],
    'こ': [],
    'さ': [],
    'し': [],
    'す': [],
    'せ': [],
    'そ': [],
    'た': [],
    'ち': [],
    'つ': [],
    'て': [],
    'と': [],
    'な': [],
    'に': [],
    'ぬ': [],
    'ね': [],
    'の': [],
    'は': [],
    'ひ': [],
    'ふ': [],
    'へ': [],
    'ほ': [],
    'ま': [],
    'み': [],
    'む': [],
    'め': [],
    'も': [],
    'や': [],
    'ゆ': [],
    'よ': [],
    'ら': [],
    'り': [],
    'る': [],
    'れ': [],
    'ろ': [],
    'わ': [],
    'を': [],
    'ん': []
  };

  words.forEach(word => {
    if (word.length >= 2) {
      const lastChar = word[word.length - 1];
      if (categories[lastChar]) {
        categories[lastChar].push(word);
      }
    }
  });

  return categories;
}

// メイン処理
function main() {
  console.log('現実的な日本語辞書を作成中...');
  
  const categories = categorizeWords(realisticWords);
  
  // 各カテゴリの単語数を表示
  Object.keys(categories).forEach(category => {
    if (categories[category].length > 0) {
      console.log(`「${category}」で終わる: ${categories[category].length}個`);
    }
  });
  
  // 「あ」で終わる単語を抽出（重複除去）
  const aEndingWords = [...new Set(categories['あ'])];
  console.log(`\n「あ」で終わる単語: ${aEndingWords.length}個`);
  aEndingWords.forEach((word, index) => {
    console.log(`  ${index + 1}. ${word}`);
  });
  
  // JSONファイルに保存
  const outputPath = path.join(__dirname, '../assets/dictionary_new/char_あ_realistic.json');
  fs.writeFileSync(outputPath, JSON.stringify(aEndingWords, null, 2), 'utf8');
  
  console.log(`\n現実的な辞書を ${outputPath} に保存しました。`);
}

main();
